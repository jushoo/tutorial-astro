---
import BaseLayout from "../layouts/BaseLayout.astro";
import Card from "../components/Card.astro";

const allPosts = await Astro.glob("../pages/posts/*.md"); // TODO: Update this to MDX later?
---

<BaseLayout title="home">
  <hgroup>
    <h1>Hello!</h1>
    <p>I'm DJ,</p>
    <p>
      This site is where I reflect on what im currently learning... or doing.
    </p>
  </hgroup>

  <h2>recent posts:</h2>
  <div class="grid">
    {
      allPosts
        .slice(-4)
        .map((post) => (
          <Card
            title={post.frontmatter.title}
            url={post.url!}
            pubDate={post.frontmatter.pubDate}
          />
        ))
    }
  </div>
</BaseLayout>
